(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{558:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(220),c=window.ethereum,o=Object(r.c)("metamask",{state:function(){return{haveEventsStarted:!1}},actions:{startMetamaskEvents:function(){this.haveEventsStarted||(this.haveEventsStarted=!0,c.on("chainChanged",this.handleChainChanged),c.on("accountsChanged",this.handleAccountsChanged))},handleChainChanged:function(e){},handleAccountsChanged:function(e){}}})},672:function(e,t,n){"use strict";n.r(t);var r=n(178),c=n(176),o=n(547),l=n(605),d=n(120),f=(n(7),n(84)),v=n(558),m=n(0),h=n(15),x=n(12),k=(n(63),n(22),n(24),n(661)),w=n(592),y=n.n(w),C=n(61),_=n(85),j=Object(m.d)({__name:"coffee-with-crypto",setup:function(e){Object(f.d)({title:"Coffee With Crypto | "});var t=Object(v.a)(),n=Object(f.e)(),r=n.$vToastify,c=n.$config,o=Object(m.y)(null),l=c.public,d=l.ownerAddress,w=l.txConfirmationBlocks,j=window.ethereum,O=Boolean(j),A=O?new k.a.providers.Web3Provider(j,"any"):null,S=Object(m.y)(!1),address=Object(m.y)(""),R=Object(m.y)(""),T=Object(m.y)(""),B=Object(m.y)(""),E=Object(m.y)(0),M=Object(m.y)(""),H=Object(m.y)(!1),W=Object(m.y)(!1),$=new y.a(j);$.eth.transactionConfirmationBlocks=w;var D=Object(m.a)((function(){return address.value&&address.value.substring(0,4)+"..."+address.value.substring(address.value.length-4)})),F=Object(m.a)((function(){try{var e=R.value.split("."),t=Object(x.a)(e,2),n=t[0],r=t[1];return"".concat(n,".").concat(r.substring(0,4))}catch(e){return R.value}}));t.$onAction(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,c=t.args,o=t.onError,e.t0=n,e.next="handleChainChanged"===e.t0?4:"handleAccountsChanged"===e.t0?7:10;break;case 4:return e.next=6,G();case 6:return e.abrupt("break",10);case 7:return e.next=9,K(c[0]);case 9:return e.abrupt("break",10);case 10:o((function(e){r.error(String(null==e?void 0:e.message))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(m.r)(Object(h.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O){e.next=3;break}throw new Error("You have to install Metamask to access this page.");case 3:return t.startMetamaskEvents(),e.next=6,A.listAccounts();case 6:if(n=e.sent,S.value=n.length>0,e.t0=S.value,!e.t0){e.next=12;break}return e.next=12,K(n);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r.error(String(null===e.t1||void 0===e.t1?void 0:e.t1.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))));var U=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.value=!0,e.next=4,A.listAccounts();case 4:if(t=e.sent,S.value=t.length>0,!S.value){e.next=11;break}return e.next=9,K(t);case 9:e.next=13;break;case 11:return e.next=13,A.send("eth_requestAccounts",[]);case 13:H.value=!1,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),r.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),P=function(){S.value=!1,ne(),r.success("Disconnected.")},V=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.value.validate();case 3:if(e.sent){e.next=6;break}throw new Error(o.value.errors.message[0]);case 6:if(!H.value){e.next=8;break}throw new Error("Wait until the current tx is finished.");case 8:return e.next=10,$.eth.sendTransaction({from:address.value,to:d,value:k.a.utils.parseEther(T.value).toHexString()}).once("sent",I).once("sending",N).once("transactionHash",Y).once("receipt",z).on("confirmation",J).on("error",L);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0&&r.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(){H.value=!0,r.info("Transaction Status: Transaction sent to Metamask.")},N=function(){r.info("Transaction Status: Waiting to user confirm.")},Y=function(e){M.value=e,B.value="Awaiting transaction confirmation.",ee(),r.info("Transaction Status: Awaiting transaction confirmation.")},z=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W.value=!0,B.value="Awaiting block confirmation.",r.success("Transaction Status: Awaiting block confirmation."),r.info("Thank You For Your Support! - @emretepedev"),e.next=6,Z();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){e&&e<w&&(E.value=e,r.info("Confirmation Status: New block found.")),e>=w&&(B.value="Confirmed.",te(),r.success("Transaction Status: Confirmed."))},L=function(){B.value="Failed.",te(),r.error("Transaction Status: Failed.")},G=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:r.success("Chain has changed.");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.value=t.length>0,!S.value){e.next=6;break}return e.next=4,Q(t[0]);case 4:e.next=7;break;case 6:P();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(address){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(address);case 2:return e.next=4,Z();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=k.a.utils.getAddress(t),e.next=7;break;case 4:return e.next=6,A.listAccounts();case 6:e.t0=e.sent[0];case 7:address.value=e.t0,r.success("Linked account changed to '".concat(address.value,"'"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k.a.utils,e.next=3,A.getBalance(address.value);case 3:e.t1=e.sent,R.value=e.t0.formatEther.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){o.value.reset(),T.value=""},te=function(){B.value="",M.value="",E.value=0,W.value=!1,H.value=!1},ne=function(){address.value="",R.value=""},re=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(address.value);case 3:r.success("Address ".concat(address.value," copied.")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,metamaskStore:t,$vToastify:r,$config:c,observer:o,ownerAddress:d,txConfirmationBlocks:w,ethereum:j,hasMetamask:O,provider:A,isConnected:S,address:address,balance:R,amount:T,txStatus:B,txConfirmationCount:E,txHash:M,spinner:H,waitForConfirmation:W,web3:$,formattedAddress:D,formattedBalance:F,connectWeb3:U,disconnectWeb3:P,send:V,handleTxSent:I,handleTxSending:N,handleTxHash:Y,handleTxReceipt:z,handleTxConfirmation:J,handleTxError:L,handleChainChanged:G,handleAccountsChanged:K,updateUserInfo:Q,updateUserAddress:X,updateUserBalance:Z,resetInputs:ee,resetTxDetails:te,resetUserDetails:ne,copyToAddress:re,mdiCurrencyUsdOff:C.m,ValidationObserver:_.a,ValidationProvider:_.b}}}),O=j,A=n(77),component=Object(A.a)(O,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-12 flex justify-center"},[t(c.b,[n.hasMetamask?t("div",[t(c.c,{class:"my-5 ".concat(e.$vuetify.breakpoint.smAndDown?"mx-2 grid grid-cols-1 gap-y-5 space-x-0":"space-x-6"),attrs:{align:"center",justify:"center"}},[t(l.a,{attrs:{bottom:"","content-class":"text-xs",disabled:!n.isConnected},scopedSlots:e._u([{key:"activator",fn:function(r){var c=r.on;return[t("span",e._g({directives:[{def:d.a,name:"ripple",rawName:"v-ripple",value:{center:!0},expression:"{ center: true }"}],staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto cursor-pointer rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100 shadow-xl",on:{click:function(e){n.isConnected&&n.copyToAddress()}}},c),[e._v("\n                Address:\n                "+e._s(n.isConnected?n.formattedAddress:"")+"\n              ")])]}}],null,!1,4732281)},[e._v(" "),t("span",{staticClass:"text-center"},[t("div",[e._v("\n                "+e._s(n.address)+"\n              ")]),e._v(" "),t("div",[e._v("(Click to Copy)")])])]),e._v(" "),t("span",{staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100"},[e._v("\n            Balance: "+e._s(n.isConnected?n.formattedBalance:"")+"\n          ")])],1),e._v(" "),t(n.ValidationObserver,{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(l){var d=l.invalid;return[t(c.c,[t(n.ValidationProvider,{staticClass:"flex justify-center",attrs:{name:"amount",rules:{required:!0,decimal:!0,min:1,max:8,min_value:1e-6,max_value:n.formattedBalance}},scopedSlots:e._u([{key:"default",fn:function(r){var c=r.errors;return[t(o.a,{staticClass:"mx-4 mt-4 max-w-sm",attrs:{counter:8,dense:"",disabled:!n.isConnected,"error-messages":c,hint:n.amount.length?void 0:"For example, `0.01`",label:"Amount",name:"amount",outlined:"",placeholder:"Your amount","prepend-inner-icon":n.mdiCurrencyUsdOff,rounded:"",shaped:"",success:!Object.keys(c).length&&Boolean(n.amount.length)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.send()}},model:{value:n.amount,callback:function(e){n.amount=e},expression:"amount"}})]}}],null,!0)})],1),e._v(" "),t(c.c,{class:"".concat(e.$vuetify.breakpoint.smAndDown?"my-4 grid grid-cols-1 gap-y-2 space-x-0 space-y-1 px-5":"space-x-6"),attrs:{align:"center",justify:"center"}},[t(r.a,{class:"".concat(e.$vuetify.breakpoint.smAndDown?"w-full":""),attrs:{disabled:d||n.spinner||!n.isConnected},on:{click:function(e){return n.send()}}},[n.spinner?t("svg",{staticClass:"mr-3 h-5 w-5 animate-spin text-white",attrs:{viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e._v(" "),t("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]):e._e(),e._v(" "),t("span",[e._v("Send")])]),e._v(" "),n.isConnected?t(r.a,{on:{click:function(e){return n.disconnectWeb3()}}},[e._v("Disconnect to Metamask")]):t(r.a,{on:{click:function(e){return n.connectWeb3()}}},[e._v("Connect")])],1)]}}],null,!1,2857915421)}),e._v(" "),t("div",{staticClass:"mt-5 text-center text-sm"},[e._v("\n          Note: Never mind the coffee. As a developer, I prefer Testnet coins\n          for testing :)\n        ")]),e._v(" "),t("div",{staticClass:"mt-5 flex flex-col items-center space-y-1 text-center text-sm"},[n.txHash?t("div",{staticClass:"break-words"},[e._v("\n            Transaction Hash: "+e._s(n.txHash)+"\n          ")]):e._e(),e._v(" "),n.txStatus?t("div",[e._v("Status: "+e._s(n.txStatus))]):e._e(),e._v(" "),n.waitForConfirmation?t("div",[e._v("\n            Confirmation Progress:\n            "+e._s(n.txConfirmationCount)+"/"+e._s(n.txConfirmationBlocks)+"\n          ")]):e._e()])],1):t("div",{staticClass:"flex items-center justify-center"},[t(r.a,{attrs:{href:"https://metamask.io/download/",target:"_blank"}},[e._v("\n          Install Metamask\n        ")])],1)])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);