(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{627:function(e,t,n){"use strict";n.r(t);var r=n(170),c=n(167),o=n(520),l=n(572),d=n(117),f=(n(7),n(71)),v=n(0),m=n(20),x=n(17),h=(n(77),n(27),n(617)),k=n(562),w=n.n(k),C=n(52),y=n(83),_=Object(v.c)({__name:"coffee-with-crypto",setup:function(e){Object(f.d)({title:"Coffee With Crypto | "});var t=Object(f.e)(),n=t.$vToastify,r=t.$config,c=Object(v.n)(null),o=r.public,l=o.ownerAddress,d=o.txConfirmationBlocks,k=window.ethereum,_=new w.a(k),j=new h.a.providers.Web3Provider(k),O=Boolean(k),A=Object(v.n)(!1),address=Object(v.n)(null),R=Object(v.n)(""),T=Object(v.n)(""),S=Object(v.n)(""),B=Object(v.n)(0),D=Object(v.n)(""),E=Object(v.n)(!1),H=Object(v.n)(!1),W=Object(v.a)((function(){return address.value&&address.value.substring(0,4)+"..."+address.value.substring(address.value.length-4)})),$=Object(v.a)((function(){try{var e=R.value.split("."),t=Object(x.a)(e,2),n=t[0],r=t[1];return"".concat(n,".").concat(r.substring(0,4))}catch(e){return R.value}}));Object(v.k)(Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=10;break}return L(),_.eth.transactionConfirmationBlocks=d,e.next=5,j.listAccounts();case 5:if(t=e.sent,A.value=t.length>0,!A.value){e.next=10;break}return e.next=10,M();case 10:case"end":return e.stop()}}),e)}))));var F=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.send("eth_requestAccounts",[]);case 3:return e.next=5,M();case 5:n.success("Connected."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.listAccounts();case 3:return t=e.sent,A.value=t.length>0,e.next=7,X();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),U=function(){A.value=!1,re(),n.success("Disconnected.")},P=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.value.validate();case 3:if(e.sent){e.next=6;break}throw new Error(c.value.errors.message[0]);case 6:if(!E.value){e.next=8;break}throw new Error("Wait until the current tx is finished.");case 8:return e.next=10,_.eth.sendTransaction({from:address.value,to:l,value:h.a.utils.parseEther(T.value).toHexString()}).once("sent",V).once("sending",I).once("transactionHash",N).once("receipt",Y).on("confirmation",z).on("error",J);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0&&n.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),V=function(){E.value=!0,n.info("Transaction Status: Transaction sent to Metamask.")},I=function(){n.info("Transaction Status: Waiting to user confirm.")},N=function(e){D.value=e,S.value="Awaiting transaction confirmation.",te(),n.info("Transaction Status: Awaiting transaction confirmation.")},Y=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H.value=!0,S.value="Awaiting block confirmation.",n.success("Transaction Status: Awaiting block confirmation."),n.info("Thank You For Your Support! - @emretepedev"),e.next=6,ee();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){e&&e<d&&(B.value=e,n.info("Confirmation Status: New block found.")),e>=d&&(S.value="Confirmed.",ne(),n.success("Transaction Status: Confirmed."))},J=function(){S.value="Failed.",ne(),n.error("Transaction Status: Failed.")},L=function(){k.on("chainChanged",G),k.on("accountsChanged",K),k.on("disconnect",Q)},G=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:n.success("Chain has changed.");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.length>0,A.value=r,!A.value){e.next=8;break}return e.next=5,X(t[0]);case 5:n.success("Linked account changed to '".concat(t[0],"'")),e.next=9;break;case 8:U();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){A.value=!1},X=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(address){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(address);case 2:return e.next=4,ee();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=h.a.utils.getAddress(t),e.next=7;break;case 4:return e.next=6,j.listAccounts();case 6:e.t0=e.sent[0];case 7:address.value=e.t0;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h.a.utils,e.next=3,j.getBalance(address.value);case 3:e.t1=e.sent,R.value=e.t0.formatEther.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){c.value.reset(),T.value=""},ne=function(){S.value="",D.value="",B.value=0,H.value=!1,E.value=!1},re=function(){address.value="",R.value=""},ae=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(address.value);case 3:n.success("Address ".concat(address.value," copied.")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,$vToastify:n,$config:r,observer:c,ownerAddress:l,txConfirmationBlocks:d,ethereum:k,web3:_,provider:j,hasMetamask:O,isConnected:A,address:address,balance:R,amount:T,txStatus:S,txConfirmationCount:B,txHash:D,spinner:E,waitForConfirmation:H,formattedAddress:W,formattedBalance:$,connectWeb3:F,connect:M,disconnectWeb3:U,send:P,handleTxSent:V,handleTxSending:I,handleTxHash:N,handleTxReceipt:Y,handleTxConfirmation:z,handleTxError:J,startEthEvents:L,handleChainChanged:G,handleAccountsChanged:K,handleDisconnect:Q,updateUserInfo:X,updateUserAddress:Z,updateUserBalance:ee,resetInputs:te,resetTxDetails:ne,resetUserDetails:re,copyToAddress:ae,mdiCurrencyUsdOff:C.m,ValidationObserver:y.a,ValidationProvider:y.b}}}),j=_,O=n(75),component=Object(O.a)(j,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-12 flex justify-center"},[t(c.b,[n.hasMetamask?t("div",[t(c.c,{class:"my-5 ".concat(e.$vuetify.breakpoint.smAndDown?"mx-2 grid grid-cols-1 gap-y-5 space-x-0":"space-x-6"),attrs:{align:"center",justify:"center"}},[t(l.a,{attrs:{bottom:"","content-class":"text-xs",disabled:!n.isConnected},scopedSlots:e._u([{key:"activator",fn:function(r){var c=r.on;return[t("span",e._g({directives:[{def:d.a,name:"ripple",rawName:"v-ripple",value:{center:!0},expression:"{ center: true }"}],staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto cursor-pointer rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100 shadow-xl",on:{click:function(e){n.isConnected&&n.copyToAddress()}}},c),[e._v("\n                Address:\n                "+e._s(n.isConnected?n.formattedAddress:"")+"\n              ")])]}}],null,!1,4732281)},[e._v(" "),t("span",{staticClass:"text-center"},[t("div",[e._v("\n                "+e._s(n.address)+"\n              ")]),e._v(" "),t("div",[e._v("(Click to Copy)")])])]),e._v(" "),t("span",{staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100"},[e._v("\n            Balance: "+e._s(n.isConnected?n.formattedBalance:"")+"\n          ")])],1),e._v(" "),t(n.ValidationObserver,{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(l){var d=l.invalid;return[t(c.c,[t(n.ValidationProvider,{staticClass:"flex justify-center",attrs:{name:"amount",rules:{required:!0,decimal:!0,min:1,max:8,min_value:1e-6,max_value:n.formattedBalance}},scopedSlots:e._u([{key:"default",fn:function(r){var c=r.errors;return[t(o.a,{staticClass:"mx-4 mt-4 max-w-sm",attrs:{counter:8,dense:"",disabled:!n.isConnected,"error-messages":c,hint:n.amount.length?void 0:"For example, `0.01`",label:"Amount",name:"amount",outlined:"",placeholder:"Your amount","prepend-inner-icon":n.mdiCurrencyUsdOff,rounded:"",shaped:"",success:!Object.keys(c).length&&Boolean(n.amount.length)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.send()}},model:{value:n.amount,callback:function(e){n.amount=e},expression:"amount"}})]}}],null,!0)})],1),e._v(" "),t(c.c,{class:"".concat(e.$vuetify.breakpoint.smAndDown?"my-4 grid grid-cols-1 gap-y-2 space-x-0 space-y-1 px-5":"space-x-6"),attrs:{align:"center",justify:"center"}},[t(r.a,{class:"".concat(e.$vuetify.breakpoint.smAndDown?"w-full":""),attrs:{disabled:d||n.spinner||!n.isConnected},on:{click:function(e){return n.send()}}},[n.spinner?t("svg",{staticClass:"mr-3 h-5 w-5 animate-spin text-white",attrs:{viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e._v(" "),t("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]):e._e(),e._v(" "),t("span",[e._v("Send")])]),e._v(" "),n.isConnected?t(r.a,{on:{click:function(e){return n.disconnectWeb3()}}},[e._v("Disconnect to Metamask")]):t(r.a,{on:{click:function(e){return n.connectWeb3()}}},[e._v("Connect")])],1)]}}],null,!1,2857915421)}),e._v(" "),t("div",{staticClass:"mt-5 text-center text-sm"},[e._v("\n          Note: Never mind the coffee. As a developer, I prefer Testnet coins\n          for testing :)\n        ")]),e._v(" "),t("div",{staticClass:"mt-5 flex flex-col items-center space-y-1 text-center text-sm"},[n.txHash?t("div",{staticClass:"break-words"},[e._v("\n            Transaction Hash: "+e._s(n.txHash)+"\n          ")]):e._e(),e._v(" "),n.txStatus?t("div",[e._v("Status: "+e._s(n.txStatus))]):e._e(),e._v(" "),n.waitForConfirmation?t("div",[e._v("\n            Confirmation Progress:\n            "+e._s(n.txConfirmationCount)+"/"+e._s(n.txConfirmationBlocks)+"\n          ")]):e._e()])],1):t("div",{staticClass:"flex items-center justify-center"},[t(r.a,{attrs:{href:"https://metamask.io/download/",target:"_blank"}},[e._v("\n          Install Metamask\n        ")])],1)])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);