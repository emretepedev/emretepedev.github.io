(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{374:function(e,t){},385:function(e,t){},424:function(e,t,n){"use strict";n.r(t);var r=n(177),c=n(317),o=n(365),l=n(329),d=n(415),f=n(78),v=(n(5),n(16)),m=n(12),x=(n(60),n(55),n(14)),h=n(407),k=n(345),w=n.n(k),y=n(28),C=n(47),_=Object(x.b)({head:{}}),j=Object.assign(_,{__name:"coffee-with-crypto",setup:function(e){Object(x.j)({title:"Coffee With Crypto | "});var t=Object(x.i)().$config,n=Object(x.d)().proxy.$vToastify,r=Object(x.g)(null),c=t.ownerAddress,o=t.txConfirmationBlocks,l=window.ethereum,d=new w.a(l),f=new h.a.providers.Web3Provider(l),k=Boolean(l),_=Object(x.g)(!1),address=Object(x.g)(null),j=Object(x.g)(""),O=Object(x.g)(""),A=Object(x.g)(""),R=Object(x.g)(0),T=Object(x.g)(""),S=Object(x.g)(!1),B=Object(x.g)(!1),D=Object(x.a)((function(){return address.value&&address.value.substring(0,4)+"..."+address.value.substring(address.value.length-4)})),E=Object(x.a)((function(){try{var e=j.value.split("."),t=Object(m.a)(e,2),n=t[0],r=t[1];return"".concat(n,".").concat(r.substring(0,4))}catch(e){return j.value}}));Object(x.f)(Object(v.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=10;break}return Y(),d.eth.transactionConfirmationBlocks=o,e.next=5,f.listAccounts();case 5:if(t=e.sent,_.value=t.length>0,!_.value){e.next=10;break}return e.next=10,H();case 10:case"end":return e.stop()}}),e)}))));var W=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.send("eth_requestAccounts",[]);case 3:return e.next=5,H();case 5:n.success("Connected."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.listAccounts();case 3:return t=e.sent,_.value=t.length>0,e.next=7,G();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),$=function(){_.value=!1,ee(),n.success("Disconnected.")},F=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.value.validate();case 3:if(e.sent){e.next=6;break}throw new Error(r.value.errors.message[0]);case 6:if(!S.value){e.next=8;break}throw new Error("Wait until the current tx is finished.");case 8:return e.next=10,d.eth.sendTransaction({from:address.value,to:c,value:h.a.utils.parseEther(O.value)}).once("sent",M).once("sending",U).once("transactionHash",P).once("receipt",V).on("confirmation",I).on("error",N);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0&&n.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),M=function(){S.value=!0,n.info("Transaction Status: Transaction sent to Metamask.")},U=function(){n.info("Transaction Status: Waiting to user confirm.")},P=function(e){T.value=e,A.value="Awaiting transaction confirmation.",X(),n.info("Transaction Status: Awaiting transaction confirmation.")},V=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.value=!0,A.value="Awaiting block confirmation.",n.success("Transaction Status: Awaiting block confirmation."),n.info("Thank You For Your Support! - @emretepedev"),e.next=6,Q();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){e&&e<o&&(R.value=e,n.info("Confirmation Status: New block found.")),e>=o&&(A.value="Confirmed.",Z(),n.success("Transaction Status: Confirmed."))},N=function(){A.value="Failed.",Z(),n.error("Transaction Status: Failed.")},Y=function(){l.on("chainChanged",z),l.on("accountsChanged",J),l.on("disconnect",L)},z=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:n.success("Chain has changed.");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.length>0,_.value=r,!_.value){e.next=8;break}return e.next=5,G(t[0]);case 5:n.success("Linked account changed to '".concat(t[0],"'")),e.next=10;break;case 8:return e.next=10,$();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){_.value=!1},G=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){var address,t=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return address=t.length>0&&void 0!==t[0]?t[0]:null,e.next=3,K(address);case 3:return e.next=5,Q();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.length>0&&void 0!==n[0]?n[0]:null)){e.next=5;break}e.t0=h.a.utils.getAddress(t),e.next=8;break;case 5:return e.next=7,f.listAccounts();case 7:e.t0=e.sent[0];case 8:address.value=e.t0;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h.a.utils,e.next=3,f.getBalance(address.value);case 3:e.t1=e.sent,j.value=e.t0.formatEther.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){r.value.reset(),O.value=""},Z=function(){A.value="",T.value="",R.value=0,B.value=!1,S.value=!1},ee=function(){address.value="",j.value=""},te=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(address.value);case 3:n.success("Address ".concat(address.value," copied.")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,$config:t,$vToastify:n,observer:r,ownerAddress:c,txConfirmationBlocks:o,ethereum:l,web3:d,provider:f,hasMetamask:k,isConnected:_,address:address,balance:j,amount:O,txStatus:A,txConfirmationCount:R,txHash:T,spinner:S,waitForConfirmation:B,formattedAddress:D,formattedBalance:E,connectWeb3:W,connect:H,disconnectWeb3:$,send:F,handleTxSent:M,handleTxSending:U,handleTxHash:P,handleTxReceipt:V,handleTxConfirmation:I,handleTxError:N,startEthEvents:Y,handleChainChanged:z,handleAccountsChanged:J,handleDisconnect:L,updateUserInfo:G,updateUserAddress:K,updateUserBalance:Q,resetInputs:X,resetTxDetails:Z,resetUserDetails:ee,copyToAddress:te,mdiCurrencyUsdOff:y.m,ValidationObserver:C.a,ValidationProvider:C.b}}}),O=j,A=n(50),component=Object(A.a)(O,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-12 flex justify-center"},[t(c.a,[n.hasMetamask?t("div",[t(o.a,{class:"my-5 ".concat(e.$vuetify.breakpoint.smAndDown?"mx-2 grid grid-cols-1 gap-y-5 space-x-0":"space-x-6"),attrs:{align:"center",justify:"center"}},[t(d.a,{attrs:{bottom:"","content-class":"text-xs",disabled:!n.isConnected},scopedSlots:e._u([{key:"activator",fn:function(r){var c=r.on;return[t("span",e._g({directives:[{def:f.a,name:"ripple",rawName:"v-ripple",value:{center:!0},expression:"{ center: true }"}],staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto cursor-pointer rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100 shadow-xl",on:{click:function(e){n.isConnected&&n.copyToAddress()}}},c),[e._v("\n                Address:\n                "+e._s(n.isConnected?n.formattedAddress:"")+"\n              ")])]}}],null,!1,4732281)},[e._v(" "),t("span",{staticClass:"text-center"},[t("div",[e._v("\n                "+e._s(n.address)+"\n              ")]),e._v(" "),t("div",[e._v("(Click to Copy)")])])]),e._v(" "),t("span",{staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100"},[e._v("\n            Balance: "+e._s(n.isConnected?n.formattedBalance:"")+"\n          ")])],1),e._v(" "),t(n.ValidationObserver,{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(c){var d=c.invalid;return[t(o.a,[t(n.ValidationProvider,{staticClass:"flex justify-center",attrs:{name:"amount",rules:{required:!0,decimal:!0,min:1,max:8,min_value:1e-6,max_value:n.formattedBalance}},scopedSlots:e._u([{key:"default",fn:function(r){var c=r.errors;return[t(l.a,{staticClass:"mx-4 mt-4 max-w-sm",attrs:{counter:8,dense:"",disabled:!n.isConnected,"error-messages":c,hint:n.amount.length?void 0:"For example, `0.01`",label:"Amount",name:"amount",outlined:"",placeholder:"Your amount","prepend-inner-icon":n.mdiCurrencyUsdOff,rounded:"",shaped:"",success:!Object.keys(c).length&&Boolean(n.amount.length)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.send()}},model:{value:n.amount,callback:function(e){n.amount=e},expression:"amount"}})]}}],null,!0)})],1),e._v(" "),t(o.a,{class:"".concat(e.$vuetify.breakpoint.smAndDown?"my-4 grid grid-cols-1 gap-y-2 space-x-0 space-y-1 px-5":"space-x-6"),attrs:{align:"center",justify:"center"}},[t(r.a,{class:"".concat(e.$vuetify.breakpoint.smAndDown?"w-full":""),attrs:{disabled:d||n.spinner||!n.isConnected},on:{click:function(e){return n.send()}}},[n.spinner?t("svg",{staticClass:"mr-3 h-5 w-5 animate-spin text-white",attrs:{viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e._v(" "),t("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]):e._e(),e._v(" "),t("span",[e._v("Send")])]),e._v(" "),n.isConnected?t(r.a,{on:{click:function(e){return n.disconnectWeb3()}}},[e._v("Disconnect to Metamask")]):t(r.a,{on:{click:function(e){return n.connectWeb3()}}},[e._v("Connect")])],1)]}}],null,!1,2857915421)}),e._v(" "),t("div",{staticClass:"mt-5 text-center text-sm"},[e._v("\n          Note: Never mind the coffee. As a developer, I prefer Testnet coins\n          for testing :)\n        ")]),e._v(" "),t("div",{staticClass:"mt-5 flex flex-col items-center space-y-1 text-center text-sm"},[n.txHash?t("div",{staticClass:"break-words"},[e._v("\n            Transaction Hash: "+e._s(n.txHash)+"\n          ")]):e._e(),e._v(" "),n.txStatus?t("div",[e._v("Status: "+e._s(n.txStatus))]):e._e(),e._v(" "),n.waitForConfirmation?t("div",[e._v("\n            Confirmation Progress:\n            "+e._s(n.txConfirmationCount)+"/"+e._s(n.txConfirmationBlocks)+"\n          ")]):e._e()])],1):t("div",{staticClass:"flex items-center justify-center"},[t(r.a,{attrs:{href:"https://metamask.io/download/",target:"_blank"}},[e._v("\n          Install Metamask\n        ")])],1)])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);