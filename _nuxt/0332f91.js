(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{497:function(e,t,n){e.exports={}},532:function(e,t,n){var map={"./af":362,"./af.js":362,"./ar":363,"./ar-dz":364,"./ar-dz.js":364,"./ar-kw":365,"./ar-kw.js":365,"./ar-ly":366,"./ar-ly.js":366,"./ar-ma":367,"./ar-ma.js":367,"./ar-sa":368,"./ar-sa.js":368,"./ar-tn":369,"./ar-tn.js":369,"./ar.js":363,"./az":370,"./az.js":370,"./be":371,"./be.js":371,"./bg":372,"./bg.js":372,"./bm":373,"./bm.js":373,"./bn":374,"./bn-bd":375,"./bn-bd.js":375,"./bn.js":374,"./bo":376,"./bo.js":376,"./br":377,"./br.js":377,"./bs":378,"./bs.js":378,"./ca":379,"./ca.js":379,"./cs":380,"./cs.js":380,"./cv":381,"./cv.js":381,"./cy":382,"./cy.js":382,"./da":383,"./da.js":383,"./de":384,"./de-at":385,"./de-at.js":385,"./de-ch":386,"./de-ch.js":386,"./de.js":384,"./dv":387,"./dv.js":387,"./el":388,"./el.js":388,"./en-au":389,"./en-au.js":389,"./en-ca":390,"./en-ca.js":390,"./en-gb":391,"./en-gb.js":391,"./en-ie":392,"./en-ie.js":392,"./en-il":393,"./en-il.js":393,"./en-in":394,"./en-in.js":394,"./en-nz":395,"./en-nz.js":395,"./en-sg":396,"./en-sg.js":396,"./eo":397,"./eo.js":397,"./es":398,"./es-do":399,"./es-do.js":399,"./es-mx":400,"./es-mx.js":400,"./es-us":401,"./es-us.js":401,"./es.js":398,"./et":402,"./et.js":402,"./eu":403,"./eu.js":403,"./fa":404,"./fa.js":404,"./fi":405,"./fi.js":405,"./fil":406,"./fil.js":406,"./fo":407,"./fo.js":407,"./fr":408,"./fr-ca":409,"./fr-ca.js":409,"./fr-ch":410,"./fr-ch.js":410,"./fr.js":408,"./fy":411,"./fy.js":411,"./ga":412,"./ga.js":412,"./gd":413,"./gd.js":413,"./gl":414,"./gl.js":414,"./gom-deva":415,"./gom-deva.js":415,"./gom-latn":416,"./gom-latn.js":416,"./gu":417,"./gu.js":417,"./he":418,"./he.js":418,"./hi":419,"./hi.js":419,"./hr":420,"./hr.js":420,"./hu":421,"./hu.js":421,"./hy-am":422,"./hy-am.js":422,"./id":423,"./id.js":423,"./is":424,"./is.js":424,"./it":425,"./it-ch":426,"./it-ch.js":426,"./it.js":425,"./ja":427,"./ja.js":427,"./jv":428,"./jv.js":428,"./ka":429,"./ka.js":429,"./kk":430,"./kk.js":430,"./km":431,"./km.js":431,"./kn":432,"./kn.js":432,"./ko":433,"./ko.js":433,"./ku":434,"./ku.js":434,"./ky":435,"./ky.js":435,"./lb":436,"./lb.js":436,"./lo":437,"./lo.js":437,"./lt":438,"./lt.js":438,"./lv":439,"./lv.js":439,"./me":440,"./me.js":440,"./mi":441,"./mi.js":441,"./mk":442,"./mk.js":442,"./ml":443,"./ml.js":443,"./mn":444,"./mn.js":444,"./mr":445,"./mr.js":445,"./ms":446,"./ms-my":447,"./ms-my.js":447,"./ms.js":446,"./mt":448,"./mt.js":448,"./my":449,"./my.js":449,"./nb":450,"./nb.js":450,"./ne":451,"./ne.js":451,"./nl":452,"./nl-be":453,"./nl-be.js":453,"./nl.js":452,"./nn":454,"./nn.js":454,"./oc-lnc":455,"./oc-lnc.js":455,"./pa-in":456,"./pa-in.js":456,"./pl":457,"./pl.js":457,"./pt":458,"./pt-br":459,"./pt-br.js":459,"./pt.js":458,"./ro":460,"./ro.js":460,"./ru":461,"./ru.js":461,"./sd":462,"./sd.js":462,"./se":463,"./se.js":463,"./si":464,"./si.js":464,"./sk":465,"./sk.js":465,"./sl":466,"./sl.js":466,"./sq":467,"./sq.js":467,"./sr":468,"./sr-cyrl":469,"./sr-cyrl.js":469,"./sr.js":468,"./ss":470,"./ss.js":470,"./sv":471,"./sv.js":471,"./sw":472,"./sw.js":472,"./ta":473,"./ta.js":473,"./te":474,"./te.js":474,"./tet":475,"./tet.js":475,"./tg":476,"./tg.js":476,"./th":477,"./th.js":477,"./tk":478,"./tk.js":478,"./tl-ph":479,"./tl-ph.js":479,"./tlh":480,"./tlh.js":480,"./tr":481,"./tr.js":481,"./tzl":482,"./tzl.js":482,"./tzm":483,"./tzm-latn":484,"./tzm-latn.js":484,"./tzm.js":483,"./ug-cn":485,"./ug-cn.js":485,"./uk":486,"./uk.js":486,"./ur":487,"./ur.js":487,"./uz":488,"./uz-latn":489,"./uz-latn.js":489,"./uz.js":488,"./vi":490,"./vi.js":490,"./x-pseudo":491,"./x-pseudo.js":491,"./yo":492,"./yo.js":492,"./zh-cn":493,"./zh-cn.js":493,"./zh-hk":494,"./zh-hk.js":494,"./zh-mo":495,"./zh-mo.js":495,"./zh-tw":496,"./zh-tw.js":496};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=532},536:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"ContentMustNotEmpty","type":"error"},{"inputs":[],"name":"SpamMessage","type":"error"},{"anonymous":false,"inputs":[{"components":[{"internalType":"address","name":"author","type":"address"},{"internalType":"uint96","name":"createdAt","type":"uint96"},{"internalType":"string","name":"content","type":"string"}],"indexed":false,"internalType":"struct IVisitorsBook.Message","name":"message","type":"tuple"}],"name":"MessageSent","type":"event"},{"inputs":[],"name":"getMessages","outputs":[{"components":[{"internalType":"address","name":"author","type":"address"},{"internalType":"uint96","name":"createdAt","type":"uint96"},{"internalType":"string","name":"content","type":"string"}],"internalType":"struct IVisitorsBook.Message[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"content","type":"string"}],"name":"sendMessage","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},537:function(e,t,n){"use strict";n(497)},566:function(e,t,n){"use strict";n.r(t);n(29),n(17),n(18),n(5),n(37),n(36),n(32);var r=n(14),o=(n(56),n(21)),c=n(355),l=n.n(c),f=n(356),d=n.n(f),m=n(33),v=n(347),j=n.n(v),h=(n(533),n(54)),y=n(536);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var w=Object(o.a)({components:{ValidationProvider:h.b,ValidationObserver:h.a},layout:"footerless",setup:function(){Object(o.i)({title:"Visitor's Book | "});var e,t,n=Object(o.h)().$config,c=Object(o.c)().proxy.$vToastify,f=Object(o.f)(null),v=Object(o.f)(null),h=n.visitorsBookContractAddress,k=Object(o.f)(null),w=Object(o.f)(!1),address=Object(o.f)(null),C=Object(o.f)(0),O=Object(o.f)(!1),_=Object(o.f)(""),T=Object(o.f)([]);Object(o.e)(Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U();case 2:if(!k.value){n.next=18;break}return e=new l.a(k.value),t=new e.eth.Contract(y,h),n.next=7,t.methods.getMessages().call();case 7:r=n.sent,o=x(r);try{for(o.s();!(c=o.n()).done;)f=c.value,T.value.push({author:f.author,createdAt:f.createdAt,content:f.content})}catch(e){o.e(e)}finally{o.f()}return t.events.MessageSent().on("data",N),n.next=13,e.eth.getAccounts();case 13:if(!(n.sent.length>0)){n.next=17;break}return n.next=17,R();case 17:M();case 18:case"end":return n.stop()}}),n)}))));var z=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,k.value){t.next=3;break}throw new Error("No web3 provider detected.");case 3:return t.next=5,e.eth.requestAccounts();case 5:return t.next=7,R();case 7:c.success("Connected."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c.error(String(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J();case 2:return t.next=4,e.eth.net.isListening();case 4:if(t.t0=t.sent,!t.t0){t.next=7;break}t.t0=k.value.isConnected();case 7:if(w.value=t.t0,w.value){t.next=10;break}throw new Error("Connection Error.");case 10:return t.next=12,V();case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.value.validate();case 3:if(e.sent){e.next=6;break}throw new Error(f.value.errors.message[0]);case 6:if(!O.value){e.next=8;break}throw new Error("Wait until the current tx is finished.");case 8:return e.next=10,t.methods.sendMessage(_.value).send({from:address.value}).once("sent",D).once("sending",E).once("transactionHash",I).once("receipt",H).on("error",W);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0&&c.error(String(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),M=function(){v.value.scrollTop=v.value.scrollHeight},S=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:w.value=!1,c.success("Disconnected.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){k.value.on("chainChanged",$),k.value.on("accountsChanged",F),k.value.on("disconnect",L)},B=function(){k.value.removeListener("chainChanged",$),k.value.removeListener("accountsChanged",F)},D=function(){O.value=!0,c.info("Transaction Status: Transaction sent to Metamask.")},E=function(){c.info("Transaction Status: Waiting to user confirm.")},I=function(e){c.info("Transaction Status: Awaiting transaction confirmation.\n"+"Tx Hash: ".concat(e))},H=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.success("Thank you for your message! - @emretepedev"),G(),e.next=4,P();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){O.value=!1,c.error("Transaction Status: Failed.")},$=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:c.success("Chain has changed.");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=6;break}return e.next=3,J(t[0]);case 3:c.success("Linked account changed to '".concat(t[0],"'")),e.next=8;break;case 6:return e.next=8,S();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:w.value=!1;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.returnValues[0];T.value.push({author:t.author,createdAt:t.createdAt,content:t.content}),M()},U=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({mustBeMetaMask:!0,silent:!0,timeout:3e3});case 2:k.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.next=3,Y(t);case 3:return e.next=5,P();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=r.length>0&&void 0!==r[0]?r[0]:null)){t.next=5;break}t.t0=e.utils.toChecksumAddress(n),t.next=8;break;case 5:return t.next=7,e.eth.getAccounts();case 7:t.t0=t.sent[0];case 8:address.value=t.t0;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.utils,t.next=3,e.eth.getBalance(address.value);case 3:t.t1=t.sent,C.value=t.t0.fromWei.call(t.t0,t.t1,"ether");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(){_.value="",O.value=!1,f.value.reset()},K=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:c.success("Copied"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return{provider:k,isConnected:w,address:address,balance:C,observer:f,spinner:O,copyText:K,connectWeb3:z,disconnectWeb3:S,formatBalanceToDisplay:function(e){return(+e).toFixed(6)},formatTimestampToDisplay:function(e){return j.a.unix(e).tz("UTC").format("MM/DD/YY - HH:mm A")},formatAddressToDisplay:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.substring(0,t)+"..."+e.substring(e.length-t)},send:A,messageContent:_,messages:T,visitorsBook:v,mdiSend:m.G,mdiMessage:m.v}},head:{}}),C=w,O=(n(537),n(39)),_=n(57),T=n.n(_),z=n(190),R=n(559),A=n(346),M=n(341),S=n(171),V=n(142),B=n(506),D=n(354),E=n(553),component=Object(O.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex justify-center"},[n("v-container",{staticClass:"py-0"},[e.provider?n("div",[e.isConnected?n("div",[n("v-container",{ref:"visitorsBook",staticClass:"box-border h-screen overflow-scroll pt-10 pb-20"},[n("v-row",{staticClass:"pb-14",attrs:{align:"end"}},[n("v-col",e._l(e.messages,(function(t,r){return n("div",{key:r,class:["d-flex align-center m-2 flex-row break-all",t.author==e.address?"justify-end":""]},[t.author==e.address?n("span",[n("span",{staticClass:"text-xs text-gray-400"},[e._v("("+e._s(e.formatTimestampToDisplay(t.createdAt))+") ")]),n("span",{class:"blue--text mr-3 "+(e.$vuetify.breakpoint.smAndDown?"text-sm":"")},[e._v(e._s(t.content))])]):e._e(),e._v(" "),n("v-tooltip",{attrs:{bottom:"","content-class":"text-xs"},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-img",e._g(e._b({attrs:{"lazy-src":"https://robohash.org/"+t.author+"?size=8x8","max-height":"32","max-width":"32",src:"https://robohash.org/"+t.author+"?bgset=bg1"},on:{click:function(t){return e.copyText(e.address)}}},"v-img",c,!1),o))]}}],null,!0)},[e._v(" "),n("span",[e._v("\n                      "+e._s(t.author)+"\n                    ")])]),e._v(" "),t.author!=e.address?n("span",[n("span",{class:"blue--text ml-3 "+(e.$vuetify.breakpoint.smAndDown?"text-sm":"")},[e._v(e._s(t.content))]),e._v(" "),n("span",{staticClass:"text-xs text-gray-400"},[e._v("\n                      ("+e._s(e.formatTimestampToDisplay(t.createdAt))+")\n                    ")])]):e._e()],1)})),0)],1)],1),e._v(" "),n("v-footer",{staticClass:"fixed bottom-0 left-0 right-0"},[n("v-container",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[n("ValidationProvider",{attrs:{name:"message",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[n("div",{staticClass:"d-flex align-center flex-row"},[n("v-text-field",{staticClass:"mx-4",attrs:{dense:"","error-messages":o,"hide-details":"",label:"Message",name:"message",outlined:"",placeholder:"Your message","prepend-inner-icon":e.mdiMessage,rounded:"",shaped:"",success:!Boolean(Object.keys(o).length)&&Boolean(e.messageContent)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)}},model:{value:e.messageContent,callback:function(t){e.messageContent=t},expression:"messageContent"}}),e._v(" "),n("v-btn",{staticClass:"p-0",attrs:{disabled:r||e.spinner,"min-width":"36",outlined:"",rounded:"",shaped:""},on:{click:e.send}},[e.spinner?n("svg",{staticClass:"h-9 w-9 animate-spin text-white",attrs:{viewBox:"0 0 24 24"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e._v(" "),n("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]):n("v-icon",[e._v(e._s(e.mdiSend))])],1)],1)]}}],null,!0)})]}}],null,!1,1862692877)})],1)],1)],1)],1)],1):n("div",{staticClass:"flex items-center justify-center"},[n("v-btn",{on:{click:e.connectWeb3}},[e._v("Connect to Metamask")])],1)]):n("div",{staticClass:"flex items-center justify-center"},[n("v-btn",{attrs:{href:"https://metamask.io/download/",target:"_blank"}},[e._v("\n          Install Metamask\n        ")])],1)])],1)])}),[],!1,null,null,null);t.default=component.exports;T()(component,{VBtn:z.a,VCol:R.a,VContainer:A.a,VFooter:M.a,VIcon:S.a,VImg:V.a,VRow:B.a,VTextField:D.a,VTooltip:E.a})}}]);